#!/bin/bash

set -e

# Enable sudo for current script execution


# Update system and install essential packages

sudo pacman -Syu --noconfirm
sudo pacman -S --needed --noconfirm base-devel git curl wget unzip vim

# Install yay AUR helper if not already installed
if ! command -v yay &> /dev/null; then
    git clone https://aur.archlinux.org/yay.git /tmp/yay
    cd /tmp/yay
    makepkg -si --noconfirm
    cd -
    rm -rf /tmp/yay
fi

# Install bluetooth and enable bluetooth service
sudo pacman -S --needed --noconfirm bluez bluez-utils
sudo systemctl enable --now bluetooth

# Install pipewire and enable pipewire services
sudo pacman -S --needed --noconfirm pipewire pipewire-pulse wireplumber pavucontrol
systemctl --user enable --now pipewire pipewire-pulse wireplumber

# Install networkmanager and enable its service
sudo pacman -S --needed --noconfirm networkmanager network-manager-applet
sudo systemctl enable --now NetworkManager

# Install GPU drivers based on detected hardware


# Install YAY Packages from package list
PACKAGE_LIST="packages.txt"


# Clone dotfiles repository and set up configurations


# Create necessary directories and set permissions


# Clean up and finish installation
